<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Cabinet Quote</title>
    <link rel="stylesheet" href="styles.css"/>
  </head>
  <body>
    <div class="wrap">
      <header class="bar">
        <h1>Cabinet Quote</h1>
        <div class="spacer"></div>
        <button id="adminBtn" class="btn">Admin</button>
      </header>

      <section class="panel">
        <div class="row">
          <label for="categorySelect">Category</label>
          <select id="categorySelect"></select>
        </div>

        <div class="row">
          <label for="colorSelect">Color</label>
          <select id="colorSelect"></select>
        </div>

        <div class="row">
          <label for="codeInput">Add item by code</label>
          <div class="hstack">
            <input id="codeInput" placeholder="ex W1830" />
            <input id="qtyInput" type="number" min="1" value="1" style="width:90px"/>
            <button id="addBtn" class="btn">Add</button>
          </div>
          <small id="codeHelp" class="muted">
            Start typing to see matches. Enter adds the first match.
          </small>
        </div>

        <div class="row">
          <details>
            <summary>Find items</summary>
            <input id="searchInput" placeholder="search code or text" />
            <div id="results" class="results"></div>
          </details>
        </div>
      </section>

      <section class="panel">
        <table id="itemsTable">
          <thead>
            <tr>
              <th>Code</th>
              <th>Text</th>
              <th>Unit</th>
              <th>Qty</th>
              <th>Total</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="cart-body"></tbody>
        </table>
        <div class="tableActions">
          <button id="clearBtn" class="btn ghost">Clear all</button>
        </div>
      </section>

      <section class="grid two">
        <div class="panel">
          <h3>Tax</h3>
          <div class="row">
            <label for="locationSelect">State</label>
            <select id="locationSelect"></select>
          </div>
          <div class="row">
            <label>
              <input type="checkbox" id="noTaxChk" />
              No tax
            </label>
          </div>
          <div class="row">
            <label for="taxInput">Custom rate percent</label>
            <input id="taxInput" type="number" step="0.01" min="0" max="25" />
            <small class="muted">Leave empty to use state rate</small>
          </div>
        </div>

        <div class="panel" id="adminPanel" style="display:none">
          <h3>Admin only</h3>
          <div class="row">
            <label for="discountInput">Discount percent</label>
            <input id="discountInput" type="number" step="0.1" min="0" max="100" />
          </div>
          <div class="row">
            <label for="labelInput">Quote label</label>
            <input id="labelInput" placeholder="optional note" />
          </div>
          <div class="row">
            <button id="lockBtn" class="btn danger">Lock admin</button>
            <small class="muted">Admin stays unlocked in this browser until you lock</small>
          </div>
        </div>
      </section>

      <section class="panel totals">
        <div class="line">
          <span>Subtotal</span>
          <span id="subTotalTxt">$0.00</span>
        </div>
        <div class="line">
          <span>Discount</span>
          <span id="discountTxt">- $0.00</span>
        </div>
        <div class="line">
          <span>After discount</span>
          <span id="afterDiscountTxt">$0.00</span>
        </div>
        <div class="line">
          <span>Tax</span>
          <span id="taxRateTxt">0.00%</span>
        </div>
        <div class="line grand">
          <span>Grand total</span>
          <span id="grandTotalTxt">$0.00</span>
        </div>
      </section>

      <footer class="muted center">
        <small>Switch color to update item prices. Data loads from prices.json</small>
      </footer>
    </div>
    <script src="app.js"></script>
  </body>
</html>
